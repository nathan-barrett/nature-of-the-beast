(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e){e.exports=[{slug:"old_knife",descriptions:["many objects carry with them anonymity.","This knife does not: it was loved as deeply as an object could be loved."],takeable:!0,locationSlug:"kitchen"},{slug:"table",descriptions:["A table from Ikea.","It has a plain white acrylic top and bright yellow legs.","You chose it for its plain geometry and color.","It seemed honest"],takeable:!1,locationSlug:"kitchen"},{slug:"shovel",descriptions:["You bought this mini shovel shortly after moving in","from the hardware store in town.","this was just before your desperation and sadness blossomed and bore its devastating fruit","like water damage worming through the family photo album.","The handle of this shovel is yellow fiberglass and maybe two feet long","And though it has spent years in damp neglect","the galvanized scoop is not rusted.","You recall that the scoop is also sometimes called a blade","and feel the weapon's comfortable heft in your hand"],takeable:!0,locationSlug:"trash_heap"}]},21:function(e){e.exports=[{slug:"a_quiet_forest",descriptions:["it is early morning.","a cold rain is melting the remaining empty and wet snow hanging from the boughs of the surrounding trees","it is falling in irregular clumps around you","and you can make out a path heading forward into the fog."]},{slug:"a_path",descriptions:["the rot beckons","and the mud sucks at your boots.","you are confronted with the unavoidable putrescence and death of the temperate rainforest"]},{slug:"in_front_of_the_house",descriptions:["You're standing in front of the house","or, rather, your house:","it is a single story of rotting plastered timber","it's been a while since you've been back.","and the forest is in the process of reclaiming its territory","You knew that white walls were always going to be a problem","but your husband insisted he would whitewash them every summer","you cowed without argument","your exhaustion and fear apparent in hindsight","Now, contempt floods your mouth as you look towards the mossy grey and black streaking the walls"]},{slug:"side_yard",descriptions:["You tried to start a garden here once","You dreamt, specifically, of rhubarb in winter and tomatillos in summer","You dreamt of bringing these things to the dinner table and sharing them with your parents","it was a na\xefve aspiration, but who could fault a child for such a desire?","the side yard has been unused and unvisited since","a space ceded to the damp clamor of the pacific northwest.","The gate creaks in the wind.","And by it is a pile of cans and other refuse."]},{slug:"trash_heap",descriptions:["your dad talked a lot about how the state government was scamming us","by making you pay for can and bottle deposits they knew we'd never redeem","he started hoarding his empties, bragging about the big dinner he'd take you out on when he took them to the place.","over time, this project grew and consumed your garden.","You pick through the moss-covered aluminum like an archaeologist","and find several parts of your childhood you had tried to forget."]},{slug:"backyard",descriptions:["a mockery of the suburban backyard, with a pool and everything","mom wanted a pool but she hated to swim","dad hated the suburbs but loved pool maintenance","their charade worked until it didn't.","a relic of multicolored plastic survives in the swampy remains of the pool","You are unsettled.","the damp sets into your bones.","You do not wish to stay."]},{slug:"foyer",descriptions:["You enter the foyer","And the voidish smell of mold hits you like a brick wall","Just dust.","The shoe rack is in grand, welcoming disarray.","You shut the door gently behind you","Holding the latch down as it closes to muffle the mechanism's click","out of habit.","The silence of this place shall not be disturbed."]},{slug:"kitchen",descriptions:["Here on the linoleum floor of the kitchen you can see the ghost","of the dining table you bought when you moved in twenty years ago"]},{slug:"range",descriptions:['"I feel like a frog in boiling water,"',"you had said,","patient peacemaker that you are, to your husband as you fought.","It was a metaphor banal and grotesque","to which you clung like a buoy in a storm",'"it\'s like when I was in Italy as a child visiting my grandfather,"',"you told your therapist","back when you could still see your therapist",'"there was a mosquito in my bedroom biting me as I slept."','"I was so itchy that I dreamt of the itch."','"In the dream, I had always felt that discomfort"','"It was unbearable but also unquestionable."',"Anyways,","Your husband somehow captured a frog outside and put it in a pot of water on the stove.","As the water warmed up, it tried to jump out","But your husband caught it and placed a heavy lid on the pot.","It jumped and thrashed and splashed until it didn't,","until the water all boiled away and its body burned and its smoke","filled the house","The smell would linger for weeks and you would never forget it.","Your husband smiled triumphantly","As though he had won the argument."]}]},22:function(e){e.exports=[["a_quiet_forest","a_path",{oneWay:!0}],["in_front_of_the_house","a_path",{}],["side_yard","in_front_of_the_house",{}],["side_yard","backyard",{}],["side_yard","trash_heap",{}],["in_front_of_the_house","foyer",{}],["foyer","kitchen",{}],["kitchen","backyard",{}],["range","kitchen",{}]]},27:function(e,t,n){e.exports=n(39)},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(20),i=n.n(r),c=(n(32),n(0)),s=n(2),u=n(4),l=n(3),h=n(5),d=n(10),p=n(6),f=n(8),m=n(15),y=n(26),b=function e(t){var n=t.descriptions,a=t.slug;Object(c.a)(this,e),this.itemSlugs=[],this.neighborSlugs=[],this.descriptions=n,this.slug=a},v=n(21),g=n(22),O=n(14),w=new b({slug:"loading",descriptions:["loading"]}),k={loading:w},j=!1;var S,_=k;!function(e){e.SET_LOCATION="SET_LOCATION",e.POP_LOCATION_STACK="POP_LOCATION_STACK",e.PUSH_LOCATION_STACK="PUSH_LOCATION_STACK",e.SET_LOCATION_STACK="SET_LOCATION_STACK",e.LOCK_CONSOLE="LOCK_CONSOLE",e.RELEASE_CONSOLE="RELEASE_CONSOLE",e.ADD_TO_INVENTORY="ADD_TO_INVENTORY",e.PUSH_HISTORY="PUSH_HISTORY",e.TOGGLE_SOUND="TOGGLE_SOUND",e.CLEAR_HISTORY="CLEAR_HISTORY"}(S||(S={}));var T={location:w.slug,previousLocationStack:[],consoleInteractive:!0,inventory:[],history:[],soundOn:!0};var E=Object(m.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.SET_LOCATION:return Object(p.a)({},e,{location:t.value});case S.PUSH_LOCATION_STACK:return Object(p.a)({},e,{previousLocationStack:[t.value].concat(Object(f.a)(e.previousLocationStack))});case S.POP_LOCATION_STACK:return Object(p.a)({},e,{previousLocationStack:e.previousLocationStack.slice(1)});case S.SET_LOCATION_STACK:return Object(p.a)({},e,{previousLocationStack:t.value});case S.LOCK_CONSOLE:return Object(p.a)({},e,{consoleInteractive:!1});case S.RELEASE_CONSOLE:return Object(p.a)({},e,{consoleInteractive:!0});case S.ADD_TO_INVENTORY:return Object(p.a)({},e,{inventory:Object(f.a)(e.inventory).concat([t.value])});case S.PUSH_HISTORY:return Object(p.a)({},e,{history:Object(f.a)(e.history).concat([t.value])});case S.CLEAR_HISTORY:return Object(p.a)({},e,{history:[]});case S.TOGGLE_SOUND:return Object(p.a)({},e,{soundOn:!e.soundOn});default:return e}}),I=E,C=function(){return _[E.getState().location]},A=speechSynthesis.getVoices();function L(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,L)}var N=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"pushItem",value:function(t){e.historyManifest[t.id]=t.content,function(e){E.dispatch({type:S.PUSH_HISTORY,value:e.id})}(t)}},{key:"clearHistory",value:function(){e._historyManifest={},E.dispatch({type:S.CLEAR_HISTORY})}},{key:"getRevocableOutputter",value:function(){var t=!1,n={revoke:function(){t=!0},output:function(n){return t?Promise.resolve(null):e.output(n)}};return e.revocableOutputters.push(n),n.output}},{key:"output",value:function(t){var n=t.content,a=null;if(t.speak){if("string"!==typeof n)throw'cannot "speak" a component';a=function(e){var t=new SpeechSynthesisUtterance(e);return t.rate=.9,t.pitch=.8,t.volume=I.getState().soundOn?1:0,'"'===e[0]&&'"'===e[e.length-1]&&(t.voice=A.filter(function(e){return"Karen"===e.name})[0]||A[0]),window.speechSynthesis.speak(t),new Promise(function(e){t.onend=function(){window.setTimeout(e,300)}})}(n)}var o={id:L(),content:n};return e.pushItem(o),a||Promise.resolve(null)}},{key:"revokeOutputters",value:function(){e.revocableOutputters.forEach(function(e){e.revoke()}),this.revocableOutputters=[]}},{key:"stopOutput",value:function(){this.revokeOutputters(),window.speechSynthesis.cancel(),I.dispatch({type:S.RELEASE_CONSOLE})}}]),e}();N._historyManifest={},N.historyManifest=N._historyManifest,N.revocableOutputters=[];var H=function(){function e(){Object(c.a)(this,e),this.command="",this.aliases=[],this.helpDescription=""}return Object(s.a)(e,[{key:"run",value:function(e){var t=N.getRevocableOutputter();return this._run(Object(p.a)({},e,{output:t}))}},{key:"_run",value:function(e){throw"not implemented"}}]),e}(),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="echo",n.helpDescription="Use echo to say something out loud. Example:\n\necho Is anyone there?",n.aliases=["say"],n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){var t=e.args;return(0,e.output)({content:t.join(" ")}),Promise.resolve(null)}}]),t}(H),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="help",n.helpDescription="Use help to make sense of the world.",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){var t=e.output,n=e.args;if(n.length>=1){var a=te[n[0]];t({content:a?"".concat(a.helpDescription).concat(a.aliases.length>0?"\nAliases for this command are: ".concat(a.aliases.join(", "),"."):""):"I don't know about ".concat(n.join(" "),".")})}else t({content:"You can interact with the story by typing a verb, optionally followed by some details.\nFor example, type 'look' to observe where you are. Type 'look at thing' to take a closer look at that thing.\nThe following verbs are available: ".concat(Object.keys(te).join(", "),'.\n\nTo get more details for a verb, type e.g., "help look". This will also show you available aliases for that verb.\n\nTo stop a dialogue, press the escape key.')});return Promise.resolve(null)}}]),t}(H);function Y(e){return o.a.createElement("span",null,e.places.map(function(e){return o.a.createElement("span",{key:e,className:"place"},e,se)}),e.items.map(function(e){return o.a.createElement("span",{key:e,className:"item"},e,se)}))}var K=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="ls",n.helpDescription="ls lists the locations and objects you can reach from where you are now.",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){return(0,e.output)({content:o.a.createElement(Y,{places:C().neighborSlugs.sort(),items:C().itemSlugs.sort()})}),Promise.resolve(null)}}]),t}(H),R=["I don't remember","But I am glad you asked. I am glad you are here.","I don't know who you are","I'm sorry for that...","To the best of my knowledge, you are an echo.","You were a mistake","insofar as any human being could be a mistake."],U=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="whoami",n.helpDescription="Ask a difficult question. Get a difficult response",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){var t=e.output;return R.reduce(function(e,n){return e.then(function(){return t({content:n,speak:!0})})},Promise.resolve(null))}}]),t}(H),V=function e(t){var n=t.descriptions,a=t.slug,o=t.locationSlug,r=t.takeable;Object(c.a)(this,e),this.descriptions=n,this.slug=a,this.locationSlug=o,this.takeable=r},x={},M=!1;var q=x,G=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="look",n.aliases=["l"],n.helpDescription="Use look to take some time, to see where you are. Some things take longer to see than others.",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){var t=e.output,n=e.args;return n.length>0&&("at"!==n[0]||!q[n[1]])?t({content:"invalid ".concat(this.command," argument ").concat(n.join(" "),".")}):("at"===n[0]&&q[n[1]]?q[n[1]].descriptions:C().descriptions).reduce(function(e,n){return e.then(function(){return t({content:n,speak:!0})})},Promise.resolve(null))}}]),t}(H),B="INVALID_LOCATION",W=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).goToLocation=function(e){if(".."!==e){var t=C().neighborSlugs.find(function(t){return t===e});if(!t)throw{code:B,message:"".concat(e," is an invalid location")};I.dispatch({type:S.PUSH_LOCATION_STACK,value:I.getState().location}),I.dispatch({type:S.SET_LOCATION,value:t})}else n.goToPreviousLocation()},n.getTabCompleteOptions=function(e){var t=e.split("/"),a=t.splice(0,t.length-1),o=t[t.length-1];if(!n.locationChainValid(a))return[];var r=0===a.length?C():_[a[a.length-1]];if(!r)return[];var i=r.neighborSlugs.filter(function(e){return 0===e.indexOf(o)});if(1===i.length){var c=0===a.length?"":"".concat(a.join("/"),"/");return["".concat(c).concat(i[0],"/")]}return i},n.locationChainValid=function(e){return 0===e.length||e.reduce(function(e,t,n,a){return 0===n||!!e&&_[a[n-1]].neighborSlugs.indexOf(t)>=0},!0)},n.command="cd",n.aliases=["go","goto"],n.helpDescription="Use cd to move to a new location. For example:\n\ncd a_cold_cabin",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"goToPreviousLocation",value:function(){var e=I.getState().previousLocationStack[0];I.dispatch({type:S.POP_LOCATION_STACK}),e&&I.dispatch({type:S.SET_LOCATION,value:e})}},{key:"_run",value:function(e){var t=e.args,n=e.output,a=I.getState(),o=a.location,r=a.previousLocationStack;try{t[0].split("/").filter(function(e){return e}).forEach(this.goToLocation)}catch(i){if(i.code!==B)throw i;n({content:i.message}),I.dispatch({type:S.SET_LOCATION,value:o}),I.dispatch({type:S.SET_LOCATION_STACK,value:r})}return F({location:I.getState().location}),Promise.resolve(null)}}]),t}(H);function F(e){var t=e.location;window.location.hash=t}var J=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).interval=0,n.state={content:(new Date).getTime().toString()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=window.setInterval(function(){e.setState({content:(new Date).getTime().toString()})},1e3)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){return this.state.content}}]),t}(o.a.Component),z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="time",n.helpDescription="time tells you the time",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){return(0,e.output)({content:o.a.createElement(J,null)}),Promise.resolve(null)}}]),t}(H),Q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="pickup",n.helpDescription="pickup will allow you to add an object to your inventory",n.aliases=["get","grab"],n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){var t=e.args,n=e.output,a=t[0];return q[a]&&C().itemSlugs.indexOf(a)>-1?q[a].takeable?(C().itemSlugs=C().itemSlugs.filter(function(e){return e!==a}),I.dispatch({type:S.ADD_TO_INVENTORY,value:a}),n({content:"You have picked up ".concat(a)})):n({content:"You cannot pick up ".concat(a)}):n({content:"There is no ".concat(a," here")}),Promise.resolve(null)}}]),t}(H),X=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="inv",n.helpDescription='List all the items currently in your inventory. To use an item, write "use <item>"',n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){return(0,e.output)({content:I.getState().inventory.join(se)}),Promise.resolve(null)}}]),t}(H),Z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="mute",n.aliases=["quiet"],n.helpDescription="smash the mute button",n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){var t=e.output;return I.dispatch({type:S.TOGGLE_SOUND}),t({content:"Sound has been turned ".concat(I.getState().soundOn?"on":"off",".")}),Promise.resolve(null)}}]),t}(H),$=n(24),ee=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).command="clear",n.helpDescription="Clears the screen.",n.aliases=["cl"],n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"_run",value:function(e){return Object($.a)(e),N.clearHistory(),Promise.resolve(null)}}]),t}(H),te={},ne={},ae=!1;var oe=n(9);var re=Object(oe.b)(function(e){return{terminalHistory:e.history}})(function(e){var t=e.terminalHistory;return o.a.createElement("div",{className:"terminal-buffer"},t.map(function(e){return o.a.createElement("p",{className:"terminal-buffer-item",key:e},N.historyManifest[e])}))}),ie=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={commandHistory:[],currentPlaceInHistory:-1,inputValue:""},n.focusInput=function(){n.inputEl.current&&n.inputEl.current.focus()},n.goBackInHistory=function(){n.setState(function(e){return e.currentPlaceInHistory===e.commandHistory.length-1?null:{currentPlaceInHistory:e.currentPlaceInHistory+1}},function(){var e=n.state.commandHistory[n.state.currentPlaceInHistory];e&&n.setState({inputValue:e.content})})},n.goForwardInHistory=function(){n.setState(function(e){return-1===e.currentPlaceInHistory?null:{currentPlaceInHistory:e.currentPlaceInHistory-1}},function(){-1===n.state.currentPlaceInHistory&&n.setState({inputValue:""});var e=n.state.commandHistory[n.state.currentPlaceInHistory];e&&n.setState({inputValue:e.content})})},n.moveCursorToEnd=function(){window.setTimeout(function(){n.inputEl.current&&(n.inputEl.current.selectionStart=1e3)},0)},n.handleChange=function(e){n.setState({inputValue:e.target.value})},n.handleKeyDown=function(e){switch(e.key){case"ArrowUp":n.goBackInHistory(),n.moveCursorToEnd();break;case"ArrowDown":n.goForwardInHistory(),n.moveCursorToEnd();break;case"Tab":e.preventDefault(),n.tabComplete();break;case"Enter":e.preventDefault(),n.addToCommandHistory(n.state.inputValue),n.props.handleSubmit(n.state.inputValue),n.setState({inputValue:""})}},n.addToCommandHistory=function(e){n.setState(function(t){return{commandHistory:[{content:e,id:L()}].concat(Object(f.a)(t.commandHistory)),currentPlaceInHistory:-1}})},n.tabComplete=function(){var e=n.state.inputValue.split(" "),t=Object(d.a)(e),a=t[0],o=t.slice(1);if(0!==o.length){var r=o[o.length-1]||"",i=ne[a],c=i&&i.getTabCompleteOptions?i.getTabCompleteOptions(r):Object(f.a)(C().neighborSlugs).concat(Object(f.a)(C().itemSlugs),Object(f.a)(I.getState().inventory)).filter(function(e){return 0===e.indexOf(r)});switch(c.length){case 0:break;case 1:var s=[a].concat(Object(f.a)(o.slice(0,o.length-1)),[c[0]]).join(" ");n.setState({inputValue:s});break;default:N.output({content:c.join(se)})}}},n.inputEl=o.a.createRef(),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.focusInput)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.focusInput)}},{key:"render",value:function(){return o.a.createElement("input",{className:"input",type:"text",onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.inputEl,value:this.state.inputValue})}}]),t}(o.a.Component);function ce(){return"~/".concat(I.getState().location," > ")}var se="    ",ue=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).handleKeydown=function(e){var t=e,n=t.key;("Escape"===n||t.ctrlKey&&["c","C","d","D"].indexOf(n)>=0)&&N.stopOutput()},n.runCommand=function(e){var t=e.split(" "),n=Object(d.a)(t),a=n[0],o=n.slice(1),r=ne[a];N.output({content:"".concat(ce()).concat(e)}),r?(I.dispatch({type:S.LOCK_CONSOLE}),r.run({args:o}).then(function(){I.dispatch({type:S.RELEASE_CONSOLE})}).catch(console.error)):N.output({content:"I don't know how to ".concat(a)})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var e=this.props.consoleInteractive;return o.a.createElement("div",{className:"terminal"},o.a.createElement(re,null),o.a.createElement("form",{className:"input-form ".concat(e?"active":"")},o.a.createElement("span",{className:"input-prompt"},ce()),o.a.createElement(ie,{handleSubmit:this.runCommand})))}}]),t}(o.a.Component),le=Object(oe.b)(function(e){return{consoleInteractive:e.consoleInteractive}})(ue),he="a_quiet_forest",de=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(u.a)(this,Object(l.a)(t).call(this,e)),j||(j=!0,v.forEach(function(e){k[e.slug]=new b(e)}),g.forEach(function(e){var t=Object(y.a)(e,3),n=t[0],a=t[1],o=t[2].oneWay;if(!k[n])throw"".concat(n," is an invalid location");if(!k[a])throw"".concat(a," is an invalid location");k[n].neighborSlugs.push(a),o||k[a].neighborSlugs.push(n)}),O.forEach(function(e){if(!k[e.locationSlug])throw"".concat(e.slug," has location ").concat(e.locationSlug,", which does not exist");k[e.locationSlug].itemSlugs.push(e.slug)})),ae||(ae=!0,[new P,new D,new K,new U,new W,new G,new z,new Q,new X,new Z,new ee].forEach(function(e){te[e.command]=e,ne[e.command]=e,e.aliases.forEach(function(t){ne[t]=e})})),M||(M=!0,O.forEach(function(e){x[e.slug]=new V(e)})),F({location:he}),I.dispatch({type:S.SET_LOCATION,value:he}),N.output({content:'The Nature of the Beast:\nA work of interactive fiction by Vincent Colavin.\n\n\nThis game reads descriptions out loud by default. Type "quiet" or "mute" to disable the audio.\nPress escape to shorten a description.\nType "help" for additional instructions.'}),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"main"},o.a.createElement(le,null))}}]),t}(o.a.Component);i.a.render(o.a.createElement(oe.a,{store:I},o.a.createElement(de,null)),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.488be376.chunk.js.map